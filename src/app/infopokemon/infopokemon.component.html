<div class="pokemon-detail-container">
  <div class="loading-spinner" *ngIf="loading">
    <div class="spinner"></div>
    <p>Cargando detalles del Pokémon...</p>
  </div>
  
  <div class="error-message" *ngIf="error">
    <p>{{ error }}</p>
    <button class="retry-button" (click)="loadPokemonDetails(pokemonId!)">Intentar de nuevo</button>
  </div>
  
  <div class="pokemon-detail" *ngIf="pokemon && !loading && !error">
    <div class="pokemon-header">
      <h2>{{ capitalizeFirstLetter(pokemon.name) }} <span class="pokemon-id">#{{ pokemon.id }}</span></h2>
    </div>
    
    <div class="pokemon-content">
      <div class="pokemon-image-container">
        <img [src]="pokemon.imageUrl" [alt]="pokemon.name" class="pokemon-detail-image">
        
        <div class="pokemon-types">
          <span *ngFor="let type of pokemon.types" [class]="'type-badge ' + getTypeClass(type)">
            {{ capitalizeFirstLetter(type) }}
          </span>
        </div>
        
        <button class="cry-button" (click)="playPokemonCry()" [disabled]="audioPlaying || !pokemon.cries?.latest">
          <i class="fa-solid" [ngClass]="audioPlaying ? 'fa-volume-high' : 'fa-volume-off'"></i>
          {{ audioPlaying ? 'Reproduciendo...' : 'Escuchar grito' }}
        </button>
      </div>
      
      <div class="pokemon-info-container">
        <div class="pokemon-physical">
          <div class="info-item">
            <span class="info-label">Altura:</span>
            <span class="info-value">{{ pokemon.height }} m</span>
          </div>
          <div class="info-item">
            <span class="info-label">Peso:</span>
            <span class="info-value">{{ pokemon.weight }} kg</span>
          </div>
        </div>
        
        <div class="pokemon-abilities">
          <h3>Habilidades</h3>
          <ul>
            <li *ngFor="let ability of pokemon.abilities">{{ capitalizeFirstLetter(ability) }}</li>
          </ul>
        </div>
        
        <div class="pokemon-stats">
          <h3>Estadísticas</h3>
          <div class="stat-item" *ngFor="let stat of pokemon.stats">
            <div class="stat-label">{{ stat.name }}</div>
            <div class="stat-bar-container">
              <div class="stat-bar" [style.width.%]="stat.value * 100 / 255"></div>
            </div>
            <div class="stat-value">{{ stat.value }}</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>